"use strict";(self.webpackChunkskypath_ios_sdk=self.webpackChunkskypath_ios_sdk||[]).push([[3312],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>f});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=o.createContext({}),s=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=s(e.components);return o.createElement(c.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=s(n),h=a,f=u["".concat(c,".").concat(h)]||u[h]||p[h]||r;return n?o.createElement(f,i(i({ref:t},d),{},{components:n})):o.createElement(f,i({ref:t},d))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=h;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[u]="string"==typeof e?e:a,i[1]=l;for(var s=2;s<r;s++)i[s]=n[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},3995:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var o=n(7462),a=(n(7294),n(3905));const r={sidebar_position:7},i="Location",l={unversionedId:"Basic/Location",id:"version-2.2.0/Basic/Location",title:"Location",description:"Overview",source:"@site/versioned_docs/version-2.2.0/Basic/Location.md",sourceDirName:"Basic",slug:"/Basic/Location",permalink:"/skypath-ios-sdk-docs/docs/Basic/Location",draft:!1,tags:[],version:"2.2.0",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Record Data",permalink:"/skypath-ios-sdk-docs/docs/Basic/Record Data"},next:{title:"Test",permalink:"/skypath-ios-sdk-docs/docs/Basic/Test"}},c={},s=[{value:"Overview",id:"overview",level:3},{value:"Error",id:"error",level:3},{value:"Low Power Mode",id:"low-power-mode",level:3},{value:"Pressure Altitude",id:"pressure-altitude",level:3},{value:"Location Injection",id:"location-injection",level:3}],d={toc:s},u="wrapper";function p(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,o.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"location"},"Location"),(0,a.kt)("h3",{id:"overview"},"Overview"),(0,a.kt)("p",null,"While data fetching from the server does not depend much on the location, it is important to have a good location to track turbulence data. Cellular devices have a built-in GPS and can have a stable location without an internet connection, but WiFi-only devices do not and need an internet connection or an external GPS receiver. When a device has poor location data (outdated or invalid) SDK will not track data and show the current position on the map. However, SDK tries to operate with a poor or shaky GPS signal as much as possible. SDK handles all location-related stuff out of the box."),(0,a.kt)("h3",{id:"error"},"Error"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"SkyPathDelegate.locationManagerDidFail(withError:)")," could be called when SDK failed to get a location when, for example, a GPS signal is not available, or location usage permission has not been granted for the app."),(0,a.kt)("h3",{id:"low-power-mode"},"Low Power Mode"),(0,a.kt)("p",null,"Low power mode. SDK tracks the best accuracy location when in flight to correctly track turbulence data. When the location is not needed anymore (when landed) and SDK was not stopped (when the app is left in the background or foreground), SDK can stop location tracking and switch to low power mode to save battery. Location tracking will start for the next flight."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"SkyPathDelegate.didUpdateLowPowerMode(_:)")," notifies that SDK updated the low power mode state. A method is optional. You can use it to notify that location tracking stopped or just do nothing and ignore it."),(0,a.kt)("h3",{id:"pressure-altitude"},"Pressure Altitude"),(0,a.kt)("p",null,"Enables calculated pressure altitude for self."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},"SkyPath.shared.useCalculatedPressureAltitudeForSelf = true\n")),(0,a.kt)("p",null,"When ",(0,a.kt)("inlineCode",{parentName:"p"},"false")," (default), the iPad's GPS will be used for self-altitude.\nWhen ",(0,a.kt)("inlineCode",{parentName:"p"},"true"),", barometric pressure data will be used to calculate self-altitude.\nCan be enabled and disabled at any time."),(0,a.kt)("p",null,"Self-altitude is used for example in Turbulence Notifications to search within the vertical corridor."),(0,a.kt)("p",null,"Note: when ",(0,a.kt)("inlineCode",{parentName:"p"},"true"),", baro forecast data will be periodically fetched from the server, and increase network traffic."),(0,a.kt)("h3",{id:"location-injection"},"Location Injection"),(0,a.kt)("p",null,"When the app has a location from an external source like AID it can inject it into SDK to use in case the device's location is not available."),(0,a.kt)("p",null,"Inject external location whenever the update is received."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},"let externalLocation = InjectedLocation(\n    location: newLocation, \n    altitude: .gps(altitude: newLocation.altitude))\nSkyPath.shared.inject(location: externalLocation)\n")),(0,a.kt)("p",null,"Note: pass only a real location received from an external source."))}p.isMDXComponent=!0}}]);